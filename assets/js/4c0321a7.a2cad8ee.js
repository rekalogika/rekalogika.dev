"use strict";(self.webpackChunkrekalogika_docs=self.webpackChunkrekalogika_docs||[]).push([[2548],{5328:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"analytics/intro","title":"Introduction","description":"Creates and maintains pre-aggregated summary tables for Doctrine entities.","source":"@site/docs/analytics/00-intro.md","sourceDirName":"analytics","slug":"/analytics/intro","permalink":"/analytics/intro","draft":false,"unlisted":false,"editUrl":"https://github.com/rekalogika/rekalogika-docs/edit/main/docs/analytics/00-intro.md","tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"title":"Introduction"},"sidebar":"docs","previous":{"title":"rekalogika/analytics","permalink":"/analytics/"},"next":{"title":"Quick Start","permalink":"/analytics/quickstart"}}');var i=t(4848),s=t(8453);const o={title:"Introduction"},r=void 0,l={},c=[{value:"Advantages",id:"advantages",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"License",id:"license",level:2},{value:"Contributing",id:"contributing",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Creates and maintains pre-aggregated summary tables for Doctrine entities.\nProvides a fast and easy way to perform analytical queries."}),"\n",(0,i.jsx)(n.p,{children:"This package works using the classical OLAP cube approach of data warehousing.\nIt processes data from the source table and pre-aggregate it in a summary table.\nThis summary table is then used to perform analytical queries."}),"\n",(0,i.jsx)(n.admonition,{type:"danger",children:(0,i.jsx)(n.p,{children:"These packages are still in development and not yet ready for production use.\nNot all features are implemented yet and the API is subject to change."})}),"\n",(0,i.jsx)(n.h2,{id:"advantages",children:"Advantages"}),"\n",(0,i.jsx)(n.p,{children:"Works directly on the entities. Does not use intermediate fact tables. Does not\nrequire any additional ETL processes."}),"\n",(0,i.jsx)(n.p,{children:"Optimized for incremental updates. (TBD explain)"}),"\n",(0,i.jsx)(n.p,{children:"Better logistics. No need to pass data to and from external systems. No need to\nmaintain additional infrastructure."}),"\n",(0,i.jsx)(n.p,{children:"A simpler and cheaper alternative to modern analytical solutions. Less\nsophisticated but probably good enough for many use cases."}),"\n",(0,i.jsx)(n.p,{children:"Sometimes things can be more challenging legally and politically, rather than\ntechnically. This framework does not send data to the cloud, so it complies with\nthe 'no-cloud' policy if you happen to be bound by it."}),"\n",(0,i.jsx)(n.p,{children:"Architecturally sensible if the result of the analytical query will be used as\nan input of a business process in the same application, as opposed to being used\nfor external reporting purposes only."}),"\n",(0,i.jsx)(n.p,{children:"Understands Doctrine's metadata, unlike external solutions that work directly\nwith the database. No need to duplicate the knowledge about your database\nschema between your application and the external analytical system."}),"\n",(0,i.jsx)(n.p,{children:"Detects if an entity is added, modified, or deleted. It can then automatically\nupdate the summary table accordingly. No need to devise a way to signal an\nexternal system that the data has changed. Or even to blindly recalculate all\ndata up to 5 years ago periodically, just because you fear some process might\nhave changed records that old, but you can't know for certain."}),"\n",(0,i.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsx)(n.p,{children:"Only works with PostgreSQL for now. Only the usage under Symfony is supported\nfor now."}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.p,{children:"Install the bundle using Composer:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"composer require rekalogika/analytics-bundle\n"})}),"\n",(0,i.jsx)(n.p,{children:"Add the necessary DQL functions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="config/packages/doctrine.yaml"',children:"doctrine:\n    orm:\n        dql:\n            string_functions:\n                REKALOGIKA_NEXTVAL: Rekalogika\\Analytics\\Doctrine\\Function\\NextValFunction\n                REKALOGIKA_TRUNCATE_BIGINT: Rekalogika\\Analytics\\Doctrine\\Function\\TruncateBigIntFunction\n                REKALOGIKA_GROUPING_CONCAT: Rekalogika\\Analytics\\Doctrine\\Function\\GroupingConcatFunction\n                REKALOGIKA_NULL: Rekalogika\\Analytics\\Doctrine\\Function\\NullFunction\n                REKALOGIKA_CAST: Rekalogika\\Analytics\\Doctrine\\Function\\CastFunction\n            numeric_functions:\n                REKALOGIKA_DATETIME_TO_SUMMARY_INTEGER: Rekalogika\\Analytics\\Doctrine\\Function\\DateTimeToIntegerFunction\n                REKALOGIKA_TRUNCATE_UUID_TO_BIGINT: Rekalogika\\Analytics\\Doctrine\\Function\\TruncateUuidToBigintFunction\n"})}),"\n",(0,i.jsx)(n.p,{children:"Configure Symfony Messenger routing configuration. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="config/packages/messenger.yaml"',children:"framework:\n    messenger:\n        routing:\n            Rekalogika\\Analytics\\RefreshWorker\\RefreshCommand: async\n"})}),"\n",(0,i.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,i.jsx)(n.p,{children:"MIT"}),"\n",(0,i.jsx)(n.h2,{id:"contributing",children:"Contributing"}),"\n",(0,i.jsxs)(n.p,{children:["This framework consists of multiple repositories split from a monorepo. Be\nsure to submit issues and pull requests to the\n",(0,i.jsx)(n.a,{href:"https://github.com/rekalogika/analytics",children:(0,i.jsx)(n.code,{children:"rekalogika/analytics"})})," monorepo."]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var a=t(6540);const i={},s=a.createContext(i);function o(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);